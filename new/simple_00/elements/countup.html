<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Just-bit - Count Up</title>
	<link rel="stylesheet" href="../css/style.css">
</head>

<body>
	<div class="wrapper">
		<div class="top">
			<a class="top__link top__link--git" href="https://github.com/just-bit" target="_blank"><svg width="35"
					height="35">
					<use xlink:href="../img/sprite.svg#github"></use>
				</svg></a>
			<a class="top__logo" href="../index.html"><span>just-bit</span><span>something useful</span></a>
			<a class="top__link top__link--codepen" href="https://codepen.io/pen" target="_blank"><svg width="35" height="35">
					<use xlink:href="../img/sprite.svg#codepen"></use>
				</svg></a>
		</div>
		<div class="box-top">
			<h1 class="box-top__title">Count Up</h1>
			<a class="box-top__demo" href="https://codepen.io/just-bit/pen/mdmqZRQ" target="_blank">DEMO</a>
		</div>
<div class="about-code">
	<div class="about-code__item">
		<p class="about-code__text">
			Анимация возрастания числа
		</p>
	</div>
</div>

		<div class="code">
			<pre><code>
<span class="html-tags">&lt;div </span><span class="html-selector">class="</span><span class="class">number</span><span class="html-selector">" </span><span class="html-selector">data-max="</span><span class="class">200</span><span class="html-selector">"</span><span class="html-tags">&gt;</span>200<span class="html-tags">&lt;/div&gt;</span>
<span class="html-tags">&lt;div </span><span class="html-selector">class="</span><span class="class">number</span><span class="html-selector">" </span><span class="html-selector">data-max="</span><span class="class">91</span><span class="html-selector">"</span><span class="html-tags">&gt;</span>91<span class="html-tags">&lt;/div&gt;</span>
<span class="html-tags">&lt;div </span><span class="html-selector">class="</span><span class="class">number</span><span class="html-selector">" </span><span class="html-selector">data-max="</span><span class="class">34</span><span class="html-selector">"</span><span class="html-tags">&gt;</span>34<span class="html-tags">&lt;/div&gt;</span>
	</code></pre>
		</div>
		<div class="code">
			<pre><code>
<span class="coments">// итерация после скролла к элементу</span>
let numbers = document.querySelectorAll('.number');

numbers.forEach(number => {
  number.innerHTML = '0';
  let numberTop = number.getBoundingClientRect().top;
  let start = +number.innerHTML;
  let end = +number.dataset.max;
  window.addEventListener('scroll', function onScroll() {
    if(window.pageYOffset > numberTop - window.innerHeight / 2) {
      this.removeEventListener('scroll', onScroll);
      let interval = setInterval(function() {
        number.innerHTML = ++start;
        if(start == end) {
          clearInterval(interval);
        }
      }, 10);
    }
  });
});

<span class="coments">// итерация сразу после загрузки страницы</span>
let numbers = document.querySelectorAll('.number');

numbers.forEach(number => {
  number.innerHTML = '0';
  let start = +number.innerHTML;
  let end = +number.dataset.max;
  let interval = setInterval(function() {
    number.innerHTML = ++start;
    if(start == end) {
      clearInterval(interval);
    }
  }, 10);
});
	</code></pre>
		</div>

	</div>
	<script src="js/script.js"></script>
</body>

</html>