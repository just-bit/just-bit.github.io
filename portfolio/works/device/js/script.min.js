for(var modalAdd=document.querySelector(".modal-add"),modalAddOpen=document.querySelectorAll(".goods__item-buy button:first-child"),modalAddClose=document.querySelector(".modal-add__btn-close"),modalForm=document.querySelector(".modal-form"),modalFormOpen=document.querySelector(".location__help"),modalFormClose=document.querySelector(".modal-form__btn-close"),modalFormName=document.querySelector(".modal-form [name=name]"),modalFormEmail=document.querySelector(".modal-form [name=email]"),modalFormForm=document.querySelector(".modal-form__form"),storage=localStorage.getItem("modalFormName"),isStorageSupport=!0,modalMap=(storage="",document.querySelector(".modal-map")),modalMapOpen=document.querySelector(".location__map"),modalMapClose=document.querySelector(".modal-map__btn-close"),i=0;i<modalAddOpen.length;i++)modalAddOpen[i].addEventListener("click",function(o){o.preventDefault(),modalAdd.classList.add("modal-add-show")});modalAddClose.addEventListener("click",function(o){o.preventDefault(),modalAdd.classList.remove("modal-add-show")}),window.addEventListener("keydown",function(o){27===o.keyCode&&modalAdd.classList.contains("modal-add-show")&&(o.preventDefault(),modalAdd.classList.remove("modal-add-show"))}),modalFormOpen&&modalFormOpen.addEventListener("click",function(o){o.preventDefault(),modalForm.classList.add("modal-form-show"),modalFormName.focus(),storage?(modalFormName.value=storage,modalFormEmail.focus()):modalFormName.focus()});try{storage=localStorage.getItem("modalFormName")}catch(o){isStorageSupport=!1}modalFormClose&&modalFormClose.addEventListener("click",function(o){o.preventDefault(),modalForm.classList.remove("modal-form-show"),modalForm.classList.remove("submit-error")}),modalFormForm&&modalFormForm.addEventListener("submit",function(o){modalFormName.value&&modalFormEmail.value?isStorageSupport&&localStorage.setItem("modalFormName",modalFormName.value):(o.preventDefault(),modalForm.classList.add("submit-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&modalForm.classList.contains("modal-form-show")&&(o.preventDefault(),modalForm.classList.remove("modal-form-show"))}),modalMapOpen&&modalMapOpen.addEventListener("click",function(o){o.preventDefault(),modalMap.classList.add("modal-map-show")}),modalMapClose&&modalMapClose.addEventListener("click",function(o){o.preventDefault(),modalMap.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(o){27===o.keyCode&&modalMap.classList.contains("modal-map-show")&&(o.preventDefault(),modalMap.classList.remove("modal-map-show"))});